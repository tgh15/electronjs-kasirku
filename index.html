<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <link rel="stylesheet" href="tailwind.css">
    <style>
        input:checked~.dot {
            transform: translateX(100%);
            background-color: #48bb78;
        }
    </style>
</head>

<body>
    <main class="h-screen bg-gray-100 relative p-6 pt-36">
        <nav
            class="font-sans flex absolute top-0 left-0 right-0 flex-col text-center py-4 px-6 bg-green-500 shadow sm:items-baseline w-full">
            <div class="text-white flex justify-between w-full items-center">
                <h1 class="font-bold text-xl">KasirKu</h1>
                <div>
                    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" id="reloadBtn">
                        Reload
                    </button>
                    <button class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded" id="closeBtn">
                        X Keluar
                    </button>

                </div>
            </div>
            <div class="flex justify-center text-white bg-green-700 mt-2 w-full">
                <a class="p-2 hover:bg-green-300 cursor-pointer transition-all" id="menuBarang">Barang</a>
                <a class="p-2 hover:bg-green-300 cursor-pointer transition-all" id="menu">Pelanggan</a>
                <a class="p-2 hover:bg-green-300 cursor-pointer transition-all font-bold" id="menu">Transaksi</a>
                <a class="p-2 hover:bg-green-300 cursor-pointer transition-all" id="menu">Riwayat</a>
                <a class="p-2 hover:bg-green-300 cursor-pointer transition-all" id="menu">Pengaturan</a>
            </div>
        </nav>
        <!-- <h1 class="text-2xl text-gray-600">Barang</h1> -->
        <div class="h-full grid grid-cols-3 gap-4">
            <div class="relative h-full bg-white overflow-auto p-5">
                <h1 class="font-bold text-lg">Tambah Barang</h1>
                <form name="form-tambah" id="form-tambah">
                    <div class="py-2">
                        <div class="mb-4">
                            <label class="block text-grey-darker text-sm font-bold mb-2">Kode Barang</label>
                            <input class=" border rounded w-full py-2 px-3 text-grey-darker" type="text"
                                name="kode_barang" id="kode_barang" placeholder="Kode Barang">
                        </div>
                        <div class="mb-4">
                            <label class="block text-grey-darker text-sm font-bold mb-2">Nama Barang:</label>
                            <input class=" border rounded w-full py-2 px-3 text-grey-darker" type="text"
                                name="nama_barang" id="nama_barang" placeholder="Nama Barang">
                        </div>

                        <div class="mb-4">
                            <label class="block text-grey-darker text-sm font-bold mb-2">Harga Satuan:</label>
                            <input class=" border rounded w-full py-2 px-3 text-grey-darker" type="number"
                                name="harga_satuan" id="harga_satuan" placeholder="Harga Satuan">
                        </div>
                        <div class="mb-4">
                            <div class="flex items-center w-full">
                                <label for="tipe" class="flex items-center cursor-pointer">
                                    <div class="mr-3 text-grey-darker text-sm font-bold">
                                        Grosir
                                    </div>
                                    <div class="relative">
                                        <input id="tipe" name="tipe" type="checkbox" class="sr-only" />
                                        <div class="w-10 h-4 bg-gray-400 rounded-full shadow-inner"></div>
                                        <div
                                            class="dot absolute w-6 h-6 bg-white rounded-full shadow -left-1 -top-1 transition">
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <div class="mb-4 hidden grosir-input">
                            <label class="block text-grey-darker text-sm font-bold mb-2">Harga Grosir:</label>
                            <input class=" border rounded w-full py-2 px-3 text-grey-darker" type="number"
                                name="harga_grosir" id="harga_grosir" value="0" placeholder="Harga Grosir">
                        </div>
                        <div class="m-4 absolute bottom-0 left-0 right-0">
                            <button type="submit"
                                class="mb-2 w-full hover:bg-green-300 py-1 px-24 bg-green-500 text-white font-bold ">
                                Tambah
                            </button>
                        </div>
                    </div>
                </form>

            </div>
            <div class="h-full bg-white overflow-auto p-5 col-span-2">
                <h1 class="font-bold text-lg">Daftar Barang</h1>

                <div class="flex flex-col">
                    <div class="py-2">
                        <div class="align-middle inline-block min-w-full mr-5">
                            <div class="shadow overflow-hidden border-b border-gray-200">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th scope="col"
                                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Kode Barang
                                            </th>
                                            <th scope="col"
                                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Nama Barang
                                            </th>
                                            <th scope="col"
                                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Harga Satuan
                                            </th>
                                            <th scope="col"
                                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Harga Grosir
                                            </th>
                                            <th scope="col" class="relative px-6 py-3">
                                                <span class="sr-only">Edit</span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200">
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="text-sm text-gray-900">Regional Paradigm Technician</div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="text-sm text-gray-900">Regional Paradigm Technician</div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="text-sm text-gray-900">Regional Paradigm Technician</div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="text-sm text-gray-900">Regional Paradigm Technician</div>
                                            </td>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                                <a href="#" class="text-red-600 hover:text-red-900">Hapus</a>
                                            </td>
                                        </tr>


                                        <!-- More people... -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="./assets/js/script.js"></script>
    <script>
        const formTambah = document.querySelector('form')

        const kodeBarang = document.querySelector('#kode_barang')
        const namaBarang = document.querySelector('#nama_barang')
        const hargaSatuan = document.querySelector('#harga_satuan')
        const hargaGrosir = document.querySelector('#harga_grosir')
        const tipeToogle = document.querySelector('#tipe')
        const grosirInput = document.querySelector('.grosir-input')

        let tipe = tipeToogle.checked


        tipeToogle.addEventListener('change', () => {
            tipeToogle.checked ? tipe = true : tipe = false
            tipe ? grosirInput.classList.remove('hidden') : grosirInput.classList.add('hidden')
        })

        formTambah.addEventListener('submit', (e) => {
            e.preventDefault()
            let dataBarang = {
                kode_barang: kodeBarang.value,
                nama_barang: namaBarang.value,
                harga_satuan: hargaSatuan.value,
                grosir: tipe,
                harga_grosir: hargaGrosir.value
            }

            ipcRenderer.send('submit', dataBarang)
        })

        ipcRenderer.on('submited', (e, arg) => {
            Toast.fire({
                icon: 'success',
                title: 'Berhasil ditambahkan'
            })
            console.log(arg[0])
        })
    </script>
</body>

</html>